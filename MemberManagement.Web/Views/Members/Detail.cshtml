@model MemberManagement.Web.ViewModels.MemberVM

@section Styles {
    <link rel="stylesheet" href="~/css/memberpg/memberdetails.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
}

<div class="member-form-container">
    <div class="member-form-card">

        <div class="member-header">
            <a asp-action="Index" class="btn-icon-circle" title="Back">
                <i class="fa-solid fa-arrow-left"></i>
            </a>
            <h2 class="card-header-name">Member Profile</h2>
            <a asp-action="Edit" asp-route-id="@Model.MemberID" class="btn-icon-circle edit-btn" title="Edit Member">
                <i class="fa-solid fa-pen-to-square"></i>
            </a>
        </div>

        <div class="category-grid">

            <div class="category-box">
                <div class="category-header">
                    <div class="icon-circle">
                        <i class="fa-solid fa-user"></i>
                    </div>
                    <span class="category-label">Personal Information</span>
                </div>

                <div class="detail-group">
                    <label>Full Name</label>
                    <p>@Model.FirstName @Model.LastName</p>
                </div>

                <div class="detail-row">
                    <div class="detail-group">
                        <label>Birthdate</label>
                        <p>@Model.BirthDate?.ToString("MMMM dd, yyyy")</p>
                    </div>
                    @{
                        int? age = null;
                        if (Model.BirthDate.HasValue)
                        {
                            var today = DateTime.Today;
                            age = today.Year - Model.BirthDate.Value.Year;
                            if (Model.BirthDate.Value.Date > today.AddYears(-age.Value)) { age--; }
                        }
                    }
                    <div class="detail-group">
                        <label>Age</label>
                        <p>@((age.HasValue) ? $"{age.Value} yrs old" : "—")</p>
                    </div>
                </div>
            </div>

            <div class="category-box">
                <div class="category-header">
                    <div class="icon-circle">
                        <i class="fa-solid fa-address-book"></i>
                    </div>
                    <span class="category-label">Contact & Membership</span>
                </div>

                <div class="detail-group">
                    <label>Address</label>
                    <p>@Model.Address</p>
                </div>

                <div class="detail-row">
                    <div class="detail-group">
                        <label>Branch</label>
                        <p>@Model.Branch</p>
                    </div>
                    <div class="detail-group">
                        <label>Membership Type</label>
                        <p>@Model.MembershipType</p>
                    </div>
                </div>

                <div class="detail-group">
                    <label>Email & Mobile</label>
                    <p>@Model.EmailAddress</p>
                    <p class="sub-detail">@Model.ContactNo</p>
                </div>
            </div>

            <div class="category-box full-width">
                <div class="category-header">
                    <div class="icon-circle">
                        <i class="fa-solid fa-shield-halved"></i>
                    </div>
                    <span class="category-label">System Audit Details</span>
                </div>

                <div class="audit-grid">
                    <div class="audit-item">
                        <label>Status</label>
                        <span class="status-pill @(Model.IsActive ? "active" : "inactive")">
                            @(Model.IsActive ? "Active Account" : "Inactive")
                        </span>
                    </div>
                    <div class="audit-item">
                        <label>Member ID</label>
                        <span>#@Model.MemberID</span>
                    </div>
                    <div class="audit-item">
                        <label>Created On</label>
                        <span>@Model.DateCreated.ToString("MMM dd, yyyy · hh:mm tt")</span>
                    </div>
                    <div class="audit-item">
                        <label>Last Modified</label>
                        <span>—</span>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>